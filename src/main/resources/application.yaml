spring:
    datasource:
        url: jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/${DB_NAME:course}
        username: ${DB_USER:course_user}
        password: ${DB_PASS:course_password}
    jpa:
        hibernate:
        ddl-auto: none
    flyway:
        enabled: true
        locations: classpath:db/migration
        schemas: course
        baseline-on-migrate: true
    profiles:
      active: local
logging:
  level:
    org.springframework.security: DEBUG

# JWT env-vars (read in SecurityConfig)
app:
  auth:
    issuer: ${AUTH_ISSUER:http://localhost:8999}
    jwks-url: ${AUTH_JWKS_URL:http://localhost:8999/.well-known/jwks.json}
    audience: ${AUTH_AUDIENCE:oh-course}
    allowed-algs: RS256
    jwks-cache-ttl-seconds: ${JWKS_CACHE_TTL:900}   # 15 min
    jwks-cache-max-size: ${JWKS_CACHE_MAX:10}
    leeway-seconds: ${JWT_LEEWAY:120}

server:
  port: 8080